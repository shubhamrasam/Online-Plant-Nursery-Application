<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register seed</title>
    <link rel="stylesheet" href="common.css">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
    <div id="header">

    </div>

    <div id="parent">
        <div id="post">
            <input type="text" id="key" placeholder="Enter Admin login key"><br>
            <input type="text" id="name" placeholder="Enter Name of Seeed"><br>
            <input type="text" id="time" placeholder="Enter Bloom Time"><br>
            <input type="text" id="water" placeholder="Enter watereing"><br>
            <input type="text" id="diff" placeholder="Enter Diffculty level"><br>
            <input type="text" id="temp" placeholder="Enter Temprature"><br>
            <input type="text" id="types" placeholder="Enter Types of seed"><br>
            <input type="text" id="desc" placeholder="Enter sedd description"><br>
            <input type="number" id="stock" placeholder="Enter seed stock"><br>
            <input type="number" id="cost" placeholder="Enter seed cost"><br>
            <input type="number" id="qty" placeholder="Enter seed per packet"><br>
            <input type="text" id="url" placeholder="Enter url of seed"><br>
            <button id="btn">Add Seed</button>
    
        </div>
        <div id="delete">
            <input type="text" id="keys" placeholder="Enter Admin login key"><br> 
            <input type="text" id="seed" placeholder="Enter  seed id"><br>       
           <button id="dbtn">Delete Order</button> 
       </div>
   
   
       <div id="patch">
           <input type="text" id="pkey" placeholder="Enter Customer login key"><br>           
           <button id="ubtn"> Update Order</button>
   
       </div>   

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>

</html>
<script>
    $(function () {
        $('#header').load('adminNavbar.html');
    })
    </script>
<script >
    let btn=document.getElementById("btn")
btn.onclick=()=>{
    regData()
}

async function regData(){
    try{
        let register_data={
            
            commonName:document.getElementById("name").value,
            bloomTime:document.getElementById("time").value,
            watering:document.getElementById("water").value,
            difficultyLevel:document.getElementById("diff").value,
            temparature:document.getElementById("temp").value,
            typeOfSeeds:document.getElementById("types").value,
            seedsDescription:document.getElementById("desc").value,
            seedsStock:document.getElementById("stock").value,
            seedsCost:document.getElementById("cost").value,
            seedsPerPacket:document.getElementById("qty").value,
            url:document.getElementById("url").value
        }
        let key=document.getElementById("key").value
        let res=await fetch(`http://localhost:8088/seeds/add?key=${key}`,{
            method:'POST',
            body:JSON.stringify(register_data),
            headers:{
                'Content-Type':'application/json'
            }
        })
        let data=await res.json();
        console.log("data",data)
        let status=await res.status;
        console.log("Status",status)
      

    }catch(error){
        console.log("error ",error)
    }
}
let dbtn=document.getElementById("dbtn")
dbtn.onclick=()=>{
    deleteSeed();
}
   

let deleteSeed=async()=>{
    try{
        let seedId=document.getElementById("seed").value      
        let key=document.getElementById("keys").value
        let res=await fetch(`http://localhost:8088/seeds/delete/${seedId}?key=${key}`,{
            method:'DELETE',            
            headers:{
                'Content-Type':'application/json'
            }
        })
        let data=await res.json();
        console.log("data",data)
        let status=await res.status;
        console.log("Status",status)
        
            alert("Order deleted")
        

    }catch(error){
        console.log("error ",error)

    }
}


</script>